var FacebookMoLo;FacebookMoLo=function(){function t(t,e,o,n){this.facebook=t,this.appId=e,this.scope=o,this.rerequest=null!=n&&n}return t.prototype.fbCallbackParam="fbauthcallback=1",t.prototype.isSuccessfulCallback=function(t){return null==t&&(t=null),null===t&&(t=window.location.href),new RegExp(this.fbCallbackParam).test(window.location.href)&&!1===/error=/.test(t)},t.prototype.authenticate=function(t,e){return null==e&&(e=null),null===e&&(e=window.location.href),this.facebook.getLoginStatus(function(o){return function(n){return n&&"connected"===n.status?void o.facebook.api("/me/permissions",function(a){var r,i,c,s,l,u,h,p,f,d;if(u={},h=!1,a.data,!0)for(p=a.data,r=0,s=p.length;r<s;r++)i=p[r],"granted"===i.status&&(u[i.permission]=i.status);for(f=o.scope.split(","),c=0,l=f.length;c<l;c++)d=f[c],void 0===u[d]&&(h=!0);return!1===h?t(n):o.login(e)}):o.login(e)}}(this))},t.prototype.login=function(t){var e,o,n;return n=document.createElement("a"),n.href=t,o=[],!0===/\?/.test(n.search)&&(o=n.search.replace("?","").split("&")),o.push(this.fbCallbackParam),n.search="?"+o.join("&"),e="https://m.facebook.com/dialog/oauth?client_id="+this.appId+"&scope="+this.scope+"&redirect_uri="+encodeURIComponent(n.href),!0===this.rerequest&&(e+="&auth_type=rerequest"),window.location.href=e},t}();